\documentclass[sigconf, authordraft]{acmart}

\usepackage{booktabs} % For formal tables

\usepackage[acronym,nonumberlist]{glossaries}
\makeglossaries


% Copyright
%\setcopyright{none}
%\setcopyright{acmcopyright}
%\setcopyright{acmlicensed}
\setcopyright{rightsretained}
%\setcopyright{usgov}
%\setcopyright{usgovmixed}
%\setcopyright{cagov}
%\setcopyright{cagovmixed}


% DOI
\acmDOI{xx.xxx/xxx_x}

% ISBN
\acmISBN{xxx-xxxx-xx-xxx/xx/xx}

%Conference
\acmConference[PAW17]{PGAS Applications Workshop}{November 2017}{Denver, Colorado USA}
\acmYear{2017}
\copyrightyear{2017}

%\acmPrice{15.00}

\acmSubmissionID{xxx-xxx-xx}

\input glossary/glossary.tex
\input glossary/acronyms.tex

\begin{document}
\title{Incremental caffeination with teams: application to a terrestrial hydrological modeling framework}
%\titlenote{Produces the permission block, and
%  copyright information}
%\subtitle{Extended Abstract}
%\subtitlenote{The full version of the author's guide is available as
%  \texttt{acmart.pdf} document}

\author{Damian Rouson}
\orcid{0000-0002-2234-868X}
\affiliation{%
  \institution{Sourcery Institute}
  \streetaddress{2323 Broadway}
  \city{Oakland}
  \state{California}
  \postcode{94612}
}
\email{damian@sourceryinstitute.org}
\renewcommand{\shortauthors}{D. Rouson et al.}

\author{James L. McCreight}
\orcid{0000-000?-????-????}
\affiliation{%
  \institution{National Center for Atmospheric Research}
  \streetaddress{ 3450 Mitchell Ln.}
  \city{Boulder}
  \state{Colorado}
  \postcode{80301}
}
\email{jamesmcc@ucar.edu}

\author{Alessandro Fanfarillo}
\orcid{0000-0003-3487-7452}
\affiliation{%
  \institution{National Center for Atmospheric Research}
  \streetaddress{ 1850 Table Mesa Dr.}
  \city{Boulder}
  \state{Colorado}
  \postcode{80305}
}
\email{elfanfa@ucar.edu}


\begin{abstract}
We present an application of coarray Fortran (CAF) teams (grouped parallelism) to embarrassingly parallel, ensemble simulation in the context of an existing MPI code base.
The problem with the grouped parallelism is that, unlike ungrouped communication, CAF and the Message Passing Interface (MPI) must be able to talk to each other. 
The fortran standard standard will never officially allow communication with MPI, an external technology. Grouped parallelism therefore forces a global decision: either use CAF or MPI for all communications, do not mix. An attractive feature of ungrouped parallelism, particularly for large code bases, is that CAF and MPI can easily be mixed to allow a gradual transition, or "caffeination", of codes from MPI to CAF. We present a solution to this problem that supports incremental caffeination with minimal changes to the original MPI and is achieved by wrapping an MPI code base with CAF teams.

We demonstrate the approach using the WRF-Hydro hydrologic model, developed at the National Center for Atmospheric Research. 
We replace batch job submission scripts with Fortran 2015 teams and run the ensemble within a single executable. For this purpose, we developed the
first implementation of compiler and parallel runtime library support for Fortran 2015
teams using a public fork of the GNU Compiler Collection (GCC) Fortran front end and
an open-source branch of the OpenCoarrays application binary interface.
\end{abstract}

%
% The code below was generated by the tool at
% http://dl.acm.org/ccs.cfm
%
\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10011007.10011006.10011008.10011009.10010175</concept_id>
<concept_desc>Software and its engineering~Parallel programming languages</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10010405.10010432.10010437.10010438</concept_id>
<concept_desc>Applied computing~Environmental sciences</concept_desc>
<concept_significance>300</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Software and its engineering~Parallel programming languages}
\ccsdesc[300]{Applied computing~Environmental sciences}

\keywords{coarray Fortran, computational hydrology, parallel programming}

\maketitle

\input{body}

\bibliographystyle{ACM-Reference-Format}
\bibliography{bibliography}

\end{document}
